(()=>{var e={};e.id=888,e.ids=[888],e.modules={9305:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{H:()=>l,a:()=>u});var s=r(997),o=r(6689),c=r(3353),i=e([c]);c=(i.then?(await i)():i)[0];let n=(0,o.createContext)(),u=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=({children:e})=>{let[t,r]=(0,o.useState)(null),[a,i]=(0,o.useState)(!0);(0,o.useEffect)(()=>{if(localStorage.getItem("token")){let e=localStorage.getItem("user");e&&r(JSON.parse(e))}i(!1)},[]);let u=async(e,t)=>{try{let{token:a,user:s}=(await c.Z.post("/api/auth/login",{email:e,password:t})).data;return localStorage.setItem("token",a),localStorage.setItem("user",JSON.stringify(s)),r(s),{success:!0}}catch(e){return{success:!1,error:e.response?.data?.error||"Login failed"}}},l=async(e,t,a)=>{try{let{token:s,user:o}=(await c.Z.post("/api/auth/register",{name:e,email:t,password:a})).data;return localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(o)),r(o),{success:!0}}catch(e){return{success:!1,error:e.response?.data?.error||"Registration failed"}}};return s.jsx(n.Provider,{value:{user:t,login:u,register:l,logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r(null)},loading:a},children:e})};a()}catch(e){a(e)}})},3414:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>i});var s=r(997);r(6764);var o=r(9305),c=e([o]);function i({Component:e,pageProps:t}){return s.jsx(o.H,{children:s.jsx(e,{...t})})}o=(c.then?(await c)():c)[0],a()}catch(e){a(e)}})},3353:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Z:()=>i});var s=r(9648),o=e([s]);let c=(s=(o.then?(await o)():o)[0]).default.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}});c.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)));let i=c;a()}catch(e){a(e)}})},6764:()=>{},6689:e=>{"use strict";e.exports=require("react")},997:e=>{"use strict";e.exports=require("react/jsx-runtime")},9648:e=>{"use strict";e.exports=import("axios")}};var t=require("../webpack-runtime.js");t.C(e);var r=t(t.s=3414);module.exports=r})();